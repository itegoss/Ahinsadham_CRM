<!DOCTYPE html>
<html>
<head>
<title>Donation Receipt</title>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
body {
    font-family: Arial, sans-serif;
    background: rgba(0,0,0,0.3);
}

.modal {
    width: 430px;
    background: white;
    padding: 20px;
    margin: 60px auto;
    border-radius: 14px;
    animation: fade .3s ease;
    position: relative;
}

@keyframes fade {
    from {opacity: 0; transform: scale(.95);}
    to {opacity: 1; transform: scale(1);}
}

h2 {
    text-align: center;
    margin-top: 0;
    font-size: 22px;
    color: #0c6d34;
}

.table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

.table td {
    padding: 8px 4px;
    font-size: 15px;
}

.line {
    height: 2px;
    width: 100%;
    background: #c1edcb;
    margin: 10px 0;
}

.actions {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
}

.btn {
    background: #0c6d34;
    color: white;
    padding: 10px 16px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    width: 32%;
    transition: .3s;
    text-align: center;
}

.btn:hover { background: #084d26; }

.close-btn {
    position: absolute;
    top: 12px;
    right: 15px;
    cursor: pointer;
    font-size: 18px;
}
</style>
</head>

<body>

<div class="modal">
    <span class="close-btn" onclick="window.history.back();">&times;</span>

    <h2>Donation Receipt</h2>

    <div class="line"></div>

    <table class="table">
        <tr><td><strong>Receipt ID:</strong></td><td>{{ donation.receipt_id }}</td></tr>
        <tr><td><strong>Donor:</strong></td><td>{{ donation.donor.first_name }} {{ donation.donor.last_name }}</td></tr>
        <tr><td><strong>Date:</strong></td><td>{{ donation.donation_date }}</td></tr>
        <tr><td><strong>Category:</strong></td><td>{{ donation.donation_category.lookup_name }}</td></tr>
        <tr><td><strong>Payment Mode:</strong></td><td>{{ donation.payment_method.lookup_name }}</td></tr>
        <tr><td><strong>Amount:</strong></td><td>â‚¹{{ donation.donation_amount_paid }}</td></tr>
        <tr><td><strong>Transaction ID:</strong></td><td>{{ donation.transaction_id|default:"-" }}</td></tr>
    </table>

    <div class="actions">
        <button class="btn" onclick="window.print();"><i class="fa fa-print"></i> Print</button>

        <a href="{% url 'download_receipt_pdf' donation.id %}" class="btn">
            <i class="fa fa-download"></i> Download
        </a>

        <button class="btn" onclick="shareReceipt()">
            <i class="fa fa-share"></i> Share
        </button>
    </div>
</div>

<script>
function shareReceipt() {
    if (navigator.share) {
        navigator.share({
            title: "Donation Receipt",
            text: "Here is your donation receipt.",
            url: window.location.href
        });
    } else {
        alert("Sharing is not supported on this device.");
    }
}
</script>

</body>
</html>
