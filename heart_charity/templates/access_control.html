{% extends 'base.html' %}
{% load custom_tags %}
{% block content %}

<style>
  
    .action-buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 35px;
    }

    .action-btn {
        padding: 12px 40px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        text-decoration: none;
        border: none;
        cursor: pointer;
        transition: .3s ease;
        display: inline-block;
    }

    .save-btn {
        background: #0f7b34;
        color: white;
    }
    .save-btn:hover {
        background: #0c622a;
        transform: translateY(-2px);
    }

    .back-btn {
        background: #6b6f75;
        color: white;
    }
    .back-btn:hover {
        background: #4b4f54;
        transform: translateY(-2px);
    }

     /* MOBILE FIX */
    @media (max-width: 755px) {
        .action-buttons {
            flex-direction: column;
            width: 100%;
            align-items: center;
            gap: 15px;
        }
        .action-btn {
            width: 80%;
            text-align: center;
        }
    }

    /* Responsive */
    @media (max-width: 768px) {
        .row { flex-direction: column; }
        .col-6 { width: 100%; }
        .container-box { padding: 30px; }
    }

.permission-card {
    border-radius: 14px;
    transition: 0.3s;
}
.permission-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
}
.permission-title {
    font-weight: 600;
    color: #198754;
    letter-spacing: 0.5px;
}
.permission-label {
    font-weight: 500;
}
.form-select, .form-control {
    border-radius: 10px;
}
.checkbox-label {
    margin-right: 25px;
}
</style>

<form method="POST" action="{% url 'access_control' %}">
    {% csrf_token %}

    <div class="container mt-4">

        <div class="card p-4 shadow permission-card mb-4">
            <h4 class="text-center permission-title mb-4">User Role & Description</h4>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="permission-label">Role Name</label>
                    <input type="text" name="role_name" value="{{ user_role|default_if_none:'' }}"
                           class="form-control p-2" placeholder="Enter role name">
                </div>

                <div class="col-md-6 mb-3">
                    <label class="permission-label">Role Description</label>
                    <input type="text" name="roleDescription" value="{{ user_description|default_if_none:'' }}"
                           class="form-control p-2" placeholder="Enter role description">
                </div>
            </div>

            <div class="mb-3">
                <label class="permission-label">Select Module</label>
                <select name="selected_module" class="form-select p-2" required>
                    <option value="">-- Choose Module --</option>
                    {% for module in modules %}
                        <option value="{{ module.id }}">{{ module.module_name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <label class="permission-label">Select Permissions</label><br>

            <div class="mt-2">

                <div class="form-check form-check-inline checkbox-label">
                    <input class="form-check-input" type="checkbox" name="access_permission" value="1">
                    <label class="form-check-label">Access</label>
                </div>

                <div class="form-check form-check-inline checkbox-label">
                    <input class="form-check-input" type="checkbox" name="add_permission" value="1">
                    <label class="form-check-label">Create</label>
                </div>

                <div class="form-check form-check-inline checkbox-label">
                    <input class="form-check-input" type="checkbox" name="edit_permission" value="1">
                    <label class="form-check-label">Update</label>
                </div>

                <div class="form-check form-check-inline checkbox-label">
                    <input class="form-check-input" type="checkbox" name="delete_permission" value="1">
                    <label class="form-check-label">Delete</label>
                </div>

                <div class="form-check form-check-inline checkbox-label">
                    <input class="form-check-input" type="checkbox" name="view_permission" value="1">
                    <label class="form-check-label">View</label>
                </div>

            </div>
            <!-- <div class="text-center mt-4">
                <button type="submit" class="btn btn-success px-5 py-2" style="border-radius: 10px;">
                    Save Permission
                </button>
            </div> -->

            <!-- <div class="text-center mt-4">
        <button type="submit" class="btn btn-success px-5 me-3" style="border-radius: 8px;">
          <i class="bi bi-save"></i> Save
        </button>
<a href="/welcome/?tab=mdm" class="btn btn-secondary px-5" style="border-radius: 8px;">
    ← Back
</a>
</div> -->

   <div class="action-buttons">
        <button type="submit" class="action-btn save-btn">
            ✔ Save
        </button>

        <a href="/welcome/?tab=Donation Module" class="action-btn back-btn">
            ← Back
        </a>
    </div>
             </div>
    </div>
</form>

{% endblock %}
